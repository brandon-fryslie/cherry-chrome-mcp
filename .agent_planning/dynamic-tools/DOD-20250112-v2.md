# Definition of Done - Smart Tool Design
Date: 2025-01-12 (v2)

## P0: Tool Consolidation

- [ ] `chrome(action: "connect" | "launch", ...)` replaces chrome_connect, chrome_launch
- [ ] `target(action: "list" | "switch", ...)` replaces list_targets, switch_target
- [ ] `step(direction: "over" | "into" | "out")` replaces debugger_step_*
- [ ] `execution(action: "resume" | "pause")` replaces debugger_resume, debugger_pause
- [ ] `breakpoint(action: "set" | "remove", ...)` replaces debugger_set/remove_breakpoint
- [ ] Old tool names no longer registered
- [ ] `npm run build` succeeds

## P1: Dynamic Visibility

- [ ] Not connected → 2 tools: `chrome`, `chrome_list_connections`
- [ ] Connected → 12 tools (adds DOM, target, enable_debug, hide/show)
- [ ] Debug enabled → 15 tools (adds breakpoint, execution, pause_on_exceptions)
- [ ] Paused → 5 tools: `step`, `execution`, `evaluate`, `call_stack`, `show_tools`
- [ ] `hide_tools(pattern: "...")` hides matching tools
- [ ] `show_tools(all: true)` restores all hidden
- [ ] Tool list updates automatically without restart

## P2: Smart Responses

- [ ] Pause/breakpoint auto-includes: call stack, local vars (top 10), last 3 console logs
- [ ] Step auto-includes: new location, local vars with [CHANGED] markers, new console since last
- [ ] Navigate auto-includes: page title, console errors, element summary
- [ ] Click/fill auto-includes: triggered console logs, element state after
- [ ] `include_context: false` parameter disables auto-bundling
- [ ] Values truncated at 100 chars, arrays limited to 5 items
